{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file:///D:/Testing/AstroWeb-7ae30bc1f7a1605f38f538a70a5f77df29722c38/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;;;;;AAEA,MAAM,qBAAO,iHAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qKAAC;QACC,KAAK;QACL,WAAW,IAAA,qLAAE,EACX,2FACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,iHAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qKAAC;QACC,KAAK;QACL,WAAW,IAAA,qLAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,iHAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qKAAC;QACC,KAAK;QACL,WAAW,IAAA,qLAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,iHAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qKAAC;QACC,KAAK;QACL,WAAW,IAAA,qLAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,iHAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qKAAC;QAAI,KAAK;QAAK,WAAW,IAAA,qLAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,iHAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qKAAC;QACC,KAAK;QACL,WAAW,IAAA,qLAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":["file:///D:/Testing/AstroWeb-7ae30bc1f7a1605f38f538a70a5f77df29722c38/src/pages/videos.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport Head from \"next/head\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Plus, Play, ExternalLink } from \"lucide-react\";\nimport { useAuth } from \"@/lib/authContext\";\nimport { getAuthToken } from \"@/lib/supabase\";\n\ninterface Video {\n  id: string;\n  title: string;\n  youtubeUrl: string;\n  thumbnailUrl: string;\n  createdAt?: string;\n}\n\nexport default function Videos() {\n  const { user, isAdmin } = useAuth();\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [videoTitle, setVideoTitle] = useState(\"\");\n  const [youtubeUrl, setYoutubeUrl] = useState(\"\");\n\n  const { data: videos, isLoading, refetch } = useQuery<Video[]>({\n    queryKey: [\"/api/videos\"],\n    queryFn: async () => {\n      const response = await fetch(\"/api/videos\");\n      if (!response.ok) throw new Error(\"Failed to fetch videos\");\n      return response.json();\n    }\n  });\n\n  const extractYoutubeId = (url: string): string | null => {\n    const patterns = [\n      /(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/)([^&\\n?#]+)/,\n      /youtube\\.com\\/embed\\/([^&\\n?#]+)/\n    ];\n    for (const pattern of patterns) {\n      const match = url.match(pattern);\n      if (match) return match[1];\n    }\n    return null;\n  };\n\n  const getThumbnailUrl = (youtubeId: string): string => {\n    return `https://img.youtube.com/vi/${youtubeId}/maxresdefault.jpg`;\n  };\n\n  const handleAddVideo = async () => {\n    const youtubeId = extractYoutubeId(youtubeUrl);\n    if (!youtubeId || !videoTitle.trim()) {\n      alert(\"Please enter a valid YouTube URL and title\");\n      return;\n    }\n\n    try {\n      const token = await getAuthToken();\n      if (!token) {\n        alert(\"Authentication required\");\n        return;\n      }\n\n      const response = await fetch(\"/api/videos\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          title: videoTitle,\n          youtubeUrl: youtubeUrl,\n          thumbnailUrl: getThumbnailUrl(youtubeId)\n        })\n      });\n\n      if (!response.ok) throw new Error(\"Failed to add video\");\n\n      setVideoTitle(\"\");\n      setYoutubeUrl(\"\");\n      setShowAddForm(false);\n      refetch();\n    } catch (error) {\n      console.error(\"Error adding video:\", error);\n      alert(\"Failed to add video\");\n    }\n  };\n\n  return (\n    <>\n      <Head>\n        <title>Videos - Divine Astrology</title>\n      </Head>\n      <div className=\"min-h-screen bg-background\">\n        <section className=\"vedic-header py-12 md:py-20 px-4\">\n          <div className=\"container mx-auto relative z-10\">\n            <div className=\"text-center mb-8\">\n              <h1 className=\"font-serif text-4xl md:text-5xl font-bold text-white mb-3\">\n                Vedic Intution Videos\n              </h1>\n              <p className=\"text-white/80 text-lg max-w-2xl mx-auto\">\n                Watch our expert astrologers share wisdom, guidance, and spiritual insights\n              </p>\n            </div>\n\n            {user && isAdmin && (\n              <div className=\"max-w-2xl mx-auto mb-8\">\n                {!showAddForm ? (\n                  <Button\n                    onClick={() => setShowAddForm(true)}\n                    className=\"w-full\"\n                  >\n                    <Plus className=\"w-4 h-4 mr-2\" />\n                    Add New Video\n                  </Button>\n                ) : (\n                  <Card className=\"p-6 bg-card\">\n                    <h3 className=\"font-serif text-xl font-bold mb-4\">Add YouTube Video</h3>\n                    <div className=\"space-y-4\">\n                      <div>\n                        <label className=\"block text-sm font-medium mb-2\">Video Title</label>\n                        <Input\n                          placeholder=\"Enter video title...\"\n                          value={videoTitle}\n                          onChange={(e) => setVideoTitle(e.target.value)}\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium mb-2\">YouTube URL</label>\n                        <Input\n                          placeholder=\"https://www.youtube.com/watch?v=...\"\n                          value={youtubeUrl}\n                          onChange={(e) => setYoutubeUrl(e.target.value)}\n                        />\n                        <p className=\"text-xs text-muted-foreground mt-1\">\n                          Paste full YouTube URL or shortened youtu.be link\n                        </p>\n                      </div>\n                      <div className=\"flex gap-2\">\n                        <Button\n                          onClick={handleAddVideo}\n                          className=\"flex-1\"\n                        >\n                          Add Video\n                        </Button>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => setShowAddForm(false)}\n                          className=\"flex-1\"\n                        >\n                          Cancel\n                        </Button>\n                      </div>\n                    </div>\n                  </Card>\n                )}\n              </div>\n            )}\n          </div>\n        </section>\n\n        <section className=\"py-12 md:py-20 px-4\">\n          <div className=\"container mx-auto\">\n            {isLoading ? (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {[1, 2, 3].map((i) => (\n                  <div key={i} className=\"bg-muted animate-pulse rounded-lg h-64\" />\n                ))}\n              </div>\n            ) : videos && videos.length > 0 ? (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {videos.map((video) => (\n                  <Card\n                    key={video.id}\n                    className=\"overflow-hidden hover-elevate cursor-pointer group\"\n                  >\n                    <div className=\"relative overflow-hidden bg-muted h-48\">\n                      <img\n                        src={video.thumbnailUrl}\n                        alt={video.title}\n                        className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\n                      />\n                      <div className=\"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity\">\n                        <Play className=\"w-12 h-12 text-white fill-white\" />\n                      </div>\n                    </div>\n\n                    <div className=\"p-4\">\n                      <h3 className=\"font-serif text-lg font-bold text-foreground mb-3 line-clamp-2\">\n                        {video.title}\n                      </h3>\n                      <a\n                        href={video.youtubeUrl}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                      >\n                        <Button\n                          variant=\"default\"\n                          className=\"w-full\"\n                        >\n                          <ExternalLink className=\"w-4 h-4 mr-2\" />\n                          Watch on YouTube\n                        </Button>\n                      </a>\n                    </div>\n                  </Card>\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-center py-12\">\n                <p className=\"text-muted-foreground text-lg\">\n                  No videos yet.\n                </p>\n              </div>\n            )}\n          </div>\n        </section>\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}